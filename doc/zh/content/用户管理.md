# 用户管理

### 1. 账号体系

  #### 手机/邮箱 密码注册
  
  使用场景说明：0基础创建工程，使用涂鸦用户体系，在涂鸦云端进行数据存储。

```
TuyaCommercialLightingSdk.getLightingUserManager().registerWithUserName(
	String userName,
	String password,
	String verifyCode,
	String countryCode,
	IRegisterCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| userName | 手机号码/邮箱 |
| password | 密码 |
| verifyCode | 手机/邮箱 验证码 |
| countryCode | 手机区号：如 "86" |

  #### 手机/邮箱 密码登录
  
  使用场景说明：经涂鸦用户体系创建的用户，可通过此方式登录。

```
TuyaCommercialLightingSdk.getLightingUserManager().loginWithUserName(
	String countryCode,
	String userName,
	String password,
	ILoginCallback callback
);
```

  ##### 参数说明：

 | 参数  | 说明   |
 | ----- | ------ |
 | countryCode | 手机区号：如 "86" |
 | userName | 手机号码/邮箱 |
 | password | 密码 |

   #### UID 密码登录
   
   使用场景说明：有自己的用户体系，只想要使用涂鸦除用户体系外其他功能。
   只需要提供一个唯一uid标识与其对应的校验码，云端将自动创建一个账户，授予其它操作权限。

 ```
 TuyaCommercialLightingSdk.getLightingUserManager().loginWithUid(
    String uid,
    String countryCode,
    String password,
    ILoginCallback callback
 );
 ```

   ##### 参数说明：

  | 参数  | 说明   |
  | ----- | ------ |
  | uid | 用户唯一标识 |
  | countryCode | 手机区号：如 "86" |
  | password | 校验码，用于与uid配对 |

  #### 手机/邮箱 验证码登录

```
TuyaCommercialLightingSdk.getLightingUserManager().loginWithVerifyCode(
	String verifyCode,
	String userName,
	String countryCode,
	ILoginCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| verifyCode | 手机/邮箱 验证码 |
| userName | 手机号码/邮箱 |
| countryCode | 手机区号：如 "86" |

  #### 手机/邮箱 重置密码

```
TuyaCommercialLightingSdk.getLightingUserManager().resetPassword(
	String userName,
	String verifyCode,
	String newPassword,
	String countryCode,
	IResultCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| userName | 手机号码/邮箱 |
| verifyCode | 手机/邮箱 验证码 |
| newPassword | 新密码 |
| countryCode | 手机区号：如 "86" |

  #### 手机/邮箱 获取验证码

```
TuyaCommercialLightingSdk.getLightingUserManager().sendVerifyCodeWithUserName(
	String userName,
	int type,
	String countryCode,
	IResultCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| userName | 手机号码/邮箱 |
| type | 0:登录；1:注册；2:修改找回密码 |
| countryCode | 手机区号：如 "86" |

 #### 验证 手机/邮箱 验证码

```
TuyaCommercialLightingSdk.getLightingUserManager().checkCodeWithUserName(
	String userName,
	String verifyCode,
	String countryCode,
	IResultCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| userName | 手机号码/邮箱 |
| verifyCode | 手机/邮箱 验证码 |
| countryCode | 手机区号：如 "86" |

 #### 校验密码

```
TuyaCommercialLightingSdk.getLightingUserManager().getKeyFromPassword(
	String password
	ITuyaResultCallback<String> callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| password| 登录密码 |

### 2.修改用户信息

  #### 修改昵称

```
TuyaCommercialLightingSdk.getLightingUserManager().updateNickname(
	String name,
	IReNickNameCallback callback
);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| name | 新昵称 |

  #### 同步用户信息

### 3.退出登录、注销账号

  #### 退出登录

```
TuyaCommercialLightingSdk.getLightingUserManager()
	.logout(ILogoutCallback callback);
```


  #### 注销账号
```
TuyaCommercialLightingSdk.getLightingUserManager().withdrawAccount(
	String password,
	 ITuyaResultCallback callback);
```

  ##### 参数说明：

| 参数  | 说明   |
| ----- | ------ |
| password | 密码|